<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Graph Viewer</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
    <!-- STYLES -->
    <link href="styles/style.css" rel="stylesheet" />
    <title>Template 1</title>

</head>
<body>


<!----HEADER SECTION START--------------------------------------------------------------------------------------------------> 
<div class="header">
  <h1>Stock Graph Viewer</h1>
</div>

<!----MAIN SECTION START--------------------------------------------------------------------------------------------------> 

<!-- Include the dropdown menu -->
<section id="main" class="about section-padding">
  <div class="container">
    <object type="text/html" data="dropdown.html" id="dropdown"></object>
    <div id="plot"></div>
  </div>
</section>

<!----FEATURES SECTION START--------------------------------------------------------------------------------------------------> 
<section id="features" class="features section-padding">
  <div class="container">
    <ol>
      <li>Load packages.</li>
      <li>Market Data -> Load data.</li>
      <li>View Data -> Choose stock</li>
      <li>Resample adjusted prices.</li>
      <li>View resample data.</li>
      <li>Compute log returns.</li>
      <li>Shift returns</li>
      <li>View Data. (Previous month, next month returns)</li>
      <li>Generate Trading Signls:  Long Stock (Top performing) and Short Stock (Bottom performing)</li>    
      <li>Get_top_n function</li>
      <li>Projected returns</li>  
      <li>Statistical Test. Annualized rate of return: Spicy for t-test</li>
      <li>View data</li>
      <li>Calculate p-value</li>
      <li>Assess portfolio</li>
    </ol>
  </div>
</section>

<!----RESULTS SECTION START--------------------------------------------------------------------------------------------------> 
<section>
  <div class="container">
    <object type="text/html" data="dropdown.html" id="dropdown"></object>
    <div id="plot"></div>
  </div>
</section>


<!----CONTACT US SECTION STARTS-------------------------------------------------------------------------------------------------->  

<!----FOOTER SECTION STARTS-------------------------------------------------------------------------------------------------->   
<section id="footer">
  <footer class="bg-dark p-2 text-center">
      <div class="container">
          <p class="text-white">All rights reserved by @</p>
          <p class="text-white">Terms and Conditions</p>
      </div>
  </footer>
</section>

<!-- Include the JavaScript file -->
<script src="js/chart.js"></script>

<script>
document.getElementById("dropdown").addEventListener("load", function() {
  // Access the dropdown menu inside the loaded object
  var select = this.contentDocument.getElementById("stockSelect");

  // Event listener for dropdown change
  select.addEventListener("change", function() {
    var symbol = this.value;
    fetchYahooCSV(symbol, plotGraph);
  });
});

// Initial load
fetchYahooCSV("AAPL", plotGraph);

</script>

</body>
</html>
